---
layout: post
title: Trying coffeescript
thumb: http://cl.ly/DjlP/coffeescript_logo.png
---

<p>Recently decided to give <a href="http://jashkenas.github.com/coffee-script/" target="_blank">coffeescript</a> a go, it&#8217;s nice and syntactically similar to other languages such as <a href="http://www.python.org/" target="_blank">Python</a>.</p>

<p>From the coffeescript developers:</p>

<blockquote class="code">
<p><strong>CoffeeScript is a little language that compiles into JavaScript.</strong> Underneath all of those embarrassing braces and semicolons, JavaScript has always had a gorgeous object model at its heart. CoffeeScript is an attempt to expose the good parts of JavaScript in a simple way.</p>

<p>The golden rule of CoffeeScript is: <em>&#8220;It&#8217;s just JavaScript&#8221;</em>. The code compiles one-to-one into the equivalent JS, and there is no interpretation at runtime. You can use any existing JavaScript library seamlessly (and vice-versa). The compiled output is readable and pretty-printed, passes through <a href="http://www.javascriptlint.com/" target="_blank">JavaScript Lint</a> without warnings, will work in every JavaScript implementation, and tends to run as fast or faster than the equivalent handwritten JavaScript.</p>
</blockquote>

<p>Here&#8217;s my first test with it, first of all a <a href="http://golfjs.com" target="_blank">golfjs</a> solution I wrote, using obfuscated (read: in as few bytes as possible) JavaScript:</p>

<blockquote class="code">
<p>i=input,v=i.match(/[aeiou]/gi),y=i.match(/y/gi),<br/>output=(v?v.length:0)+(y?y.length/2:0)</p>
</blockquote>

<p>And here&#8217;s the same code in coffeescript:</p>

<blockquote class="code">
<p><span><span class="js-variable">v </span><span class="js-operator">= </span><span class="js-string">/[AEIOU]{1}/gi</span><br/><span class="js-variable">y </span><span class="js-operator">= </span><span class="js-string">/Y{1}/gi</span><br/><span class="js-variable">a </span><span class="js-operator">= </span><span class="js-keyword">if </span><span class="js-variable">input</span><span class="js-punctuation">.</span><span class="js-variable">match</span><span class="js-punctuation">(</span><span class="js-variable">vow</span><span class="js-punctuation">) </span><span class="js-variable">then </span><span class="js-variable">input</span><span class="js-punctuation">.</span><span class="js-variable">match</span><span class="js-punctuation">(</span><span class="js-variable">vow</span><span class="js-punctuation">)</span><span class="js-punctuation">.</span><span class="js-variable">length </span><span class="js-keyword">else </span><span class="js-atom">0</span><br/><span class="js-variable">b </span><span class="js-operator">= </span><span class="js-keyword">if </span><span class="js-variable">input</span><span class="js-punctuation">.</span><span class="js-variable">match</span><span class="js-punctuation">(</span><span class="js-variable">y</span><span class="js-punctuation">) </span><span class="js-variable">then </span><span class="js-variable">input</span><span class="js-punctuation">.</span><span class="js-variable">match</span><span class="js-punctuation">(</span><span class="js-variable">y</span><span class="js-punctuation">)</span><span class="js-punctuation">.</span><span class="js-variable">length</span><span class="js-operator">*</span><span class="js-atom">0.5 </span><span class="js-keyword">else </span><span class="js-atom">0</span><br/><span class="js-variable">output </span><span class="js-operator">= </span><span class="js-variable">a</span><span class="js-operator">+</span><span class="js-variable">b</span><span class="js-variable">​</span></span></p>
</blockquote>

<p>And the JavaScript coffeescript compiles to:</p>

<blockquote class="code">
<p><span><span class="js-keyword">var </span><span class="js-variable">a</span><span class="js-punctuation">, </span><span class="js-variable">b</span><span class="js-punctuation">, </span><span class="js-variable">output</span><span class="js-punctuation">, </span><span class="js-variable">v</span><span class="js-punctuation">, </span><span class="js-variable">y</span><span class="js-punctuation">;</span><br/><span class="js-variable">v </span><span class="js-operator">= </span><span class="js-string">/[AEIOU]{1}/gi</span><span class="js-punctuation">;</span><br/><span class="js-variable">y </span><span class="js-operator">= </span><span class="js-string">/Y{1}/gi</span><span class="js-punctuation">;</span><br/><span class="js-variable">a </span><span class="js-operator">= </span><span class="js-variable">input</span><span class="js-punctuation">.</span><span class="js-property">match</span><span class="js-punctuation">(</span><span class="js-variable">vow</span><span class="js-punctuation">) </span><span class="js-operator">? </span><span class="js-variable">input</span><span class="js-punctuation">.</span><span class="js-property">match</span><span class="js-punctuation">(</span><span class="js-variable">vow</span><span class="js-punctuation">)</span><span class="js-punctuation">.</span><span class="js-property">length </span><span class="js-punctuation">: </span><span class="js-atom">0</span><span class="js-punctuation">;</span><br/><span class="js-variable">b </span><span class="js-operator">= </span><span class="js-variable">input</span><span class="js-punctuation">.</span><span class="js-property">match</span><span class="js-punctuation">(</span><span class="js-variable">y</span><span class="js-punctuation">) </span><span class="js-operator">? </span><span class="js-variable">input</span><span class="js-punctuation">.</span><span class="js-property">match</span><span class="js-punctuation">(</span><span class="js-variable">y</span><span class="js-punctuation">)</span><span class="js-punctuation">.</span><span class="js-property">length </span><span class="js-operator">* </span><span class="js-atom">0.5 </span><span class="js-punctuation">: </span><span class="js-atom">0</span><span class="js-punctuation">;</span><br/><span class="js-variable">output </span><span class="js-operator">= </span><span class="js-variable">a </span><span class="js-operator">+ </span><span class="js-variable">b</span><span class="js-punctuation">;</span></span></p>
</blockquote>
